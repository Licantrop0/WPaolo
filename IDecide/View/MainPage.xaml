<phone:PhoneApplicationPage xmlns:my="clr-namespace:Microsoft.Advertising.Mobile.UI;assembly=Microsoft.Advertising.Mobile.UI" 
	x:Class="IDecide.MainPage"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:phone="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone"
	xmlns:shell="clr-namespace:Microsoft.Phone.Shell;assembly=Microsoft.Phone"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:toolkit="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone.Controls.Toolkit"  
	mc:Ignorable="d" d:DesignWidth="480" d:DesignHeight="728"
	FontFamily="{StaticResource PhoneFontFamilyNormal}"
	FontSize="{StaticResource PhoneFontSizeNormal}"
	Foreground="{StaticResource PhoneForegroundBrush}"
	SupportedOrientations="Portrait" Orientation="Portrait"
	shell:SystemTray.IsVisible="False">
	
	<phone:PhoneApplicationPage.Resources>
		<Storyboard x:Name="RotateButton" AutoReverse="True">
			<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="AskAndShakeTextBlock">
				<EasingDoubleKeyFrame KeyTime="0:0:0.6" Value="0">
					<EasingDoubleKeyFrame.EasingFunction>
						<CubicEase EasingMode="EaseOut"/>
					</EasingDoubleKeyFrame.EasingFunction>
				</EasingDoubleKeyFrame>
				<EasingDoubleKeyFrame KeyTime="0:0:2" Value="0"/>
			</DoubleAnimationUsingKeyFrames>
			<DoubleAnimation Duration="0:0:0.6" To="360" Storyboard.TargetProperty="(UIElement.Projection).(PlaneProjection.RotationY)" Storyboard.TargetName="FrontImage" d:IsOptimized="True"/>
			<DoubleAnimation Duration="0:0:0.6" To="180" Storyboard.TargetProperty="(UIElement.Projection).(PlaneProjection.RotationY)" Storyboard.TargetName="BackImage" d:IsOptimized="True"/>
			<DoubleAnimation Duration="0:0:0.6" To="14" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)" Storyboard.TargetName="FrontImage" d:IsOptimized="True"/>
			<DoubleAnimation Duration="0:0:0.3" To="0" Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="BackImage" d:IsOptimized="True"/>
			<DoubleAnimation Duration="0:0:0.6" To="1" Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="FrontImage" d:IsOptimized="True"/>
			<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Projection).(PlaneProjection.RotationY)" Storyboard.TargetName="AnswerTextBlock">
				<EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="-90"/>
				<EasingDoubleKeyFrame KeyTime="0:0:0.6" Value="0"/>
			</DoubleAnimationUsingKeyFrames>
			<DoubleAnimation Duration="0:0:0.6" To="1" Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="AnswerTextBlock" d:IsOptimized="True"/>
		</Storyboard>
	</phone:PhoneApplicationPage.Resources>
	
	<Grid x:Name="LayoutRoot" Background="{StaticResource DefaultBackground}">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto" />
		</Grid.RowDefinitions>

		<StackPanel Grid.Row="0" Margin="12,0,0,28">
			<TextBlock Text="{Binding LocalizedResources.AppName, Source={StaticResource LocalizedStrings}}" Margin="9,-7,0,0" Style="{StaticResource PhoneTextTitle1Style}"/>
			<TextBlock Text="{Binding LocalizedResources.SubTitle, Source={StaticResource LocalizedStrings}}" Style="{StaticResource PhoneTextNormalStyle}"/>
		</StackPanel>

		<Button x:Name="DecideButton" Height="440" Width="400" Grid.Row="1"
					HorizontalAlignment="Center" VerticalAlignment="Center"
					VerticalContentAlignment="Bottom" Click="DecideButton_Click"
					toolkit:TiltEffect.IsTiltEnabled="True">
			<Button.Projection>
				<PlaneProjection/>
			</Button.Projection>
			<Button.Template>
				<ControlTemplate />
			</Button.Template>
			<Grid>
				<Image x:Name="FrontImage" Source="..\Images\IDecide Back.png" Stretch="Uniform" RenderTransformOrigin="0.5,0.5" Opacity="0" >
					<Image.RenderTransform>
						<CompositeTransform TranslateX="-14"/>
					</Image.RenderTransform>
					<Image.Projection>
						<PlaneProjection RotationY="180"/>
					</Image.Projection>
				</Image>
				<Image x:Name="BackImage" Source="..\Images\IDecide Logo.png" Stretch="Uniform" >
					<Image.Projection>
						<PlaneProjection/>
					</Image.Projection>
				</Image>
				<TextBlock x:Name="AskAndShakeTextBlock" Text="{Binding LocalizedResources.AskAndShake, Source={StaticResource LocalizedStrings}}"
							   TextAlignment="Center" VerticalAlignment="Bottom"/>
				<TextBlock x:Name="AnswerTextBlock" TextWrapping="Wrap" TextAlignment="Center"
							   VerticalAlignment="Center" HorizontalAlignment="Center"
							   Width="200" Foreground="Black" Opacity="0" Text="dfsdfsdf">
						<TextBlock.Projection>
							<PlaneProjection RotationY="-90"/>
						</TextBlock.Projection>
				</TextBlock>
			</Grid>
		</Button>
		<my:AdControl AdUnitId="Image480_80" ApplicationId="test_client"
					  Height="80"  Width="480" Grid.Row="2" />
	</Grid>

	<phone:PhoneApplicationPage.ApplicationBar>
		<shell:ApplicationBar IsVisible="True" IsMenuEnabled="True"							  
							  ForegroundColor="{StaticResource PhoneAccentColor}" />
	</phone:PhoneApplicationPage.ApplicationBar>
</phone:PhoneApplicationPage>